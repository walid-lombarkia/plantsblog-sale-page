<body>

    <div class="container">
        
        <h1>ðŸŒ± PLANTSBLOG.COM is for Sale ðŸŒ±</h1>
        <p class="tagline">Secure this premium domain name for the booming gardening, wellness, and lifestyle niche.</p>

        <div id="form-success-message">
            <p><strong>âœ… Success!</strong> Your inquiry has been sent to the seller. Thank you!</p>
        </div>

        <h2>Contact the Seller</h2>
        
        <form name="contact" id="contact-form" method="POST" netlify>
            
            <label for="name">Your Name:</label>
            <input type="text" id="name" name="Name" required>

            <label for="email">Your Email:</label>
            <input type="email" id="email" name="Email" required>

            <label for="offer">Your Offer (USD):</label>
            <input type="number" id="offer" name="Offer_USD" min="100" placeholder="Minimum offer recommended" required>

            <label for="message">Your Message / Questions:</label>
            <textarea id="message" name="Message" required></textarea>

            <input type="hidden" name="form-name" value="contact"> 
            <input type="hidden" name="Domain_Being_Sold" value="plantsblog.com">

            <button type="submit">Submit Inquiry</button>
            
        </form>

    </div>

    <form name="contact" netlify hidden>
        <input type="text" name="Name" />
        <input type="email" name="Email" />
        <input type="number" name="Offer_USD" />
        <textarea name="Message"></textarea>
        <input type="hidden" name="Domain_Being_Sold" />
    </form>

    <script>
        // Function to properly encode the form data for Netlify
        const encode = (data) => {
            return Object.keys(data)
                .map(key => encodeURIComponent(key) + "=" + encodeURIComponent(data[key]))
                .join("&");
        }

        const form = document.getElementById('contact-form');
        const successMessage = document.getElementById('form-success-message');

        form.addEventListener('submit', e => {
            e.preventDefault(); 
            
            // Note: FormData already contains the hidden input with name="form-name"
            const formData = new FormData(form);
            
            fetch("/", {
                method: "POST",
                headers: { "Content-Type": "application/x-www-form-urlencoded" },
                body: encode(Object.fromEntries(formData))
            })
            .then(response => {
                // Netlify returns a 200 (OK) on successful AJAX submission
                if (response.ok) { 
                    successMessage.style.display = 'block'; 
                    form.reset(); 
                    document.querySelector('.container').scrollIntoView({ behavior: 'smooth' }); 
                } else {
                    // This error indicates the AJAX POST failed (like the 404 you saw)
                    alert("There was an issue submitting your inquiry. Netlify did not accept the data. Please check the Netlify Forms tab for details.");
                }
            })
            .catch(error => alert(`Error: ${error.message}`))
        });
    </script>

</body>
</html>
